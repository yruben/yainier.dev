---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero';
import Stats from '../components/Stats';
import Skills from '../components/Skills';
import About from '../components/About';
import Projects from '../components/Projects';
import { getCollection } from 'astro:content';
import { useTranslations } from '../i18n/utils';
import { siteConfig } from '../config';

const t = useTranslations('en');
const typewriterWords = [
    t('hero.word1'),
    t('hero.word2'),
    t('hero.word3'),
    t('hero.word4'),
    t('hero.word5')
];

const allProjects = await getCollection('projects');
const recentProjects = allProjects.slice(0, 3);
---

<BaseLayout title="Yainier - Web Developer">
    <Hero client:load trans={{
        hello: t('hero.hello'),
        subtitlePrefix: t('hero.subtitlePrefix'),
        hire: t('hero.hire'),
        contact: t('hero.contact'),
        description: t('hero.description')
    }} titles={typewriterWords} />
    
    <Stats client:visible trans={{
        years: t('stats.years'),
        projects: t('stats.projects'),
        tech: t('stats.tech'),
        clients: t('stats.clients')
    }} />

    <Skills client:visible title={t('skills.title')} />

    <About client:visible trans={{
        titlePart1: t('about.title.part1'),
        titlePart2: t('about.title.part2'),
        p1: t('about.p1'),
        p2: t('about.p2'),
        cta: t('about.cta')
    }} />

    <Projects projects={recentProjects} client:visible trans={{
        title: t('projects.title'),
        desc: t('projects.desc'),
        viewAll: t('projects.viewAll'),
        details: t('projects.details')
    }} />
    
    <section class="py-20 bg-light-bg dark:bg-navy-900 transition-colors duration-300">
         <div class="container mx-auto px-6 text-center">
             <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">Latest Articles</h2>
              <a href="/blog" class="text-light-primary dark:text-neon-cyan hover:underline">Read the Blog &rarr;</a>
         </div>
    </section>
</BaseLayout>

